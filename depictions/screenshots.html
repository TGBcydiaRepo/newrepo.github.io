 <!DOCTYPE html>
<html lang="en">
<head>
  <title>/supermamon/</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
  <script type="text/javascript" src="../js/jquery.querystring.js"></script>
  <script type="text/javascript" src="../js/ios_version_check.js"></script>
  <script type="text/javascript" src="../js/json-renderer-1.0.0.js"></script>
  <style>
  @media (max-width: 767px) {
    body{background:#efeff4!important;margin:0;padding:0;border:0;outline:0;box-sizing:border-box}
  }
  </style>
  <script type="text/javascript">
  var bundleid = $.QueryString['p'];
  var isCydia = (navigator.userAgent.search(/Cydia/) != -1);

  var content = [
    {
      'data-source' : '../repo-info.json',
      'elements'  : {
        '#repoFooterLinks': {'type':'custom', "source":"footerlinks",
          "render" : function(element,source) {
            if ($(source).size() == 0) {$('#externalLinksContainer').hide()}
            $.each(source, function(index,data) {
              var p = $("<li class='list-group-item'>");
              var a = $("<a class='btn btn-link'>")
                .attr("href",data.url)
                .attr("target",isCydia?"_blank":"self");
              if (data.icon) {
                $(a).append($("<span>").attr("class",data.icon));
              }
              $(a).append(' '+data.name);
              $(p).append(a)
              $(element).append(p);
            }); // each
          } // render
        } //#repoFooterLinks
      } //elements
    },
    {
      'data-source' : (bundleid+'/package-info.json'),
      'elements'  : {
        'title'           : {'type':'text','source':'packagename'},
        '#screenshotsList': {'type':'custom','source':'screenshots','select':'firstValue',
                            'listElement':"<li class='list-group-item'>",
                            'render' : function(element, source) {
                              if ((!source)) {
                                $('#packageInformation').hide();
                                $('#packageError').show();
                              }
                              //var key = Object.keys(source)[0];
                              //source = source[key];
                              if ($(source).size() == 0) {
                                $('#packageInformation').hide();
                                $('#packageError').show();
                              }
                              $.each(source, function(index,data) {
                                var th = $("<div class='thumbnail'>");
                                th.append($("<p>")
                                  .text(data.description)
                                )
                                th.append($("<img>")
                                  .attr("src",bundleid+'/screenshots/'+data.image)
                                )
                                $(element).append(th);
                              });
                            }
        },
      }// elements
    }
  ];

  $( document ).ready(function() {
    var writer = new JSONRenderer({
      verbose : false,
      contentDefinition : content,
      onDataFileError : function(file) {
        $('#packageInformation').hide();
        $('#packageError').show();
      }
    });
    writer.render();
  }); // ready
</script>
</head>
<body>
<br />

<div id="packageInformation">
  <div class="container">
    <h5>SCREENSHOTS</h5>
    <ul id="screenshotsList" class="list-group"></ul>
  </div>
</div>
<div id="packageError" style="display:none">
  <div class="container">
    <div class="alert alert-warning">
    There are no screenshots available for this package.
    </div>
  </div>
</div>

<div id="contactInfo">
  <div class="container">
    <h5>CONTACT</h5>
    <ul class="list-group" id="repoFooterLinks">
    </ul>
  </div>
</div>
</body>
</html>
